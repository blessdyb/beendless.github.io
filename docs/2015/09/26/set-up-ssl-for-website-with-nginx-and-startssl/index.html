<!DOCTYPE html><html lang="en"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Set up SSL for website with Nginx and StartSSL | Beendless ~ 快节奏,慢生活,无止境</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/3.3.1/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Set up SSL for website with Nginx and StartSSL</h1><a id="logo" href="/.">Beendless ~ 快节奏,慢生活,无止境</a><p class="description">Move Fast, Live Happily, With No End</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/about/"><i class="fa fa-user"> About</i></a><a href="/atom.xml"><i class="fa fa-rss"> RSS</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Set up SSL for website with Nginx and StartSSL</h1><div class="post-meta">Sep 26, 2015<span> | </span><span class="category"><a href="/categories/CS/">CS</a></span></div><div class="post-content"><p>If you enable HTTPS and set up the certifications correctly, which means during the communication of data will not be decrypted or modified during the transportation. Today I try to enable SSL to my website. Here is what I did to make it happen: First, you should make sure your website hosted with a dedicated IP address. Like me buy a VPS from linode. Also you should make sure your HTTP web server support SSL when you set up it. If you are using nginx, just add –with-http_ssl_module when you built it yourself (<a href="http://nginx.org/en/docs/http/ngx\_http\_ssl_module.html)" target="_blank" rel="noopener">http://nginx.org/en/docs/http/ngx\_http\_ssl_module.html)</a>. Secondly, you need to buy a certification. As we know all modern browsers will check CA, in order to recognized by the root authorities, you need to purchase one certificated through them.  Even you can self-signed one to testing which will show warning to users by browser.  Fortunately, there’re some authorities who supply free CA to users like startssl. It’s easy to get a free CA from them. Just sign up and follow the guidance from startssl, then you can get</p>
<ul>
<li>Your private key file  domain.key</li>
<li>Your issued certificate file domain.crt</li>
<li>StartSSL Root CA Certificate and StartSSL Intermediate CA Certificate for your server (ca.pem and sub.class1.server.ca.pem)</li>
</ul>
<p>You can do the below things to contact the certifications to one:</p>
<p>cat sub.class1.server.ca.pem &gt;&gt; ca.pem</p>
<p>cat domain.crt ca.pem &gt; server.crt</p>
<p>Then, upload your private key and generated certification server.crt to your server.  Open nginx.conf.</p>
<p># HTTPS server<br>#<br>server {<br>    listen       443 ssl;<br>    server_name  server name here;</p>
<pre><code>ssl_certificate      server.crt;
ssl\_certificate\_key  domain.key;

ssl\_session\_cache shared:SSL:10m;
ssl\_session\_timeout  5m;
ssl_ciphers  &quot;EECDH+ECDSA+AESGCM EECDH+aRSA+AESGCM EECDH+ECDSA+SHA384 EECDH+ECDSA+SHA256 EECDH+aRSA+SHA384 EECDH+aRSA+SHA256 EECDH+aRSA+RC4 EECDH EDH+aRSA RC4 !EXPORT !aNULL !eNULL !LOW !3DES !MD5 !EXP !PSK !SRP !DSS&quot;;
ssl\_prefer\_server_ciphers   on;
ssl_protocols TLSv1 TLSv1.1 TLSv1.2;

location / {
    root   /usr/share/nginx/html;
    index  index.html index.htm;
}
</code></pre><p>}</p>
<p>After that, restart your nginx and revisit your website, you will find your website support HTTPS now. Make sure you open 443 port in your firewall configuration.  If you want to forward all HTTP request to HTTPS, just add the configurations below:</p>
<p>server {<br>    listen       443 ssl;<br>    listen       80;<br>    error_page 497  https://$host$uri?$args;<br>    …<br>}</p>
<p>Here is some useful links I followed:</p>
<ul>
<li><a href="http://nginx.org/en/docs/http/ngx_http_ssl_module.html" target="_blank" rel="noopener">http://nginx.org/en/docs/http/ngx_http_ssl_module.html</a></li>
<li><a href="https://www.linode.com/docs/websites/nginx/how-to-install-nginx-and-a-startssl-certificate-on-debian-7-wheezy" target="_blank" rel="noopener">https://www.linode.com/docs/websites/nginx/how-to-install-nginx-and-a-startssl-certificate-on-debian-7-wheezy</a></li>
<li><a href="https://www.ssllabs.com/ssltest/analyze.html" target="_blank" rel="noopener">https://www.ssllabs.com/ssltest/analyze.html</a></li>
<li><a href="https://imququ.com/post/my-nginx-conf-for-security.html" target="_blank" rel="noopener">https://imququ.com/post/my-nginx-conf-for-security.html</a></li>
</ul>
</div><div class="tags"></div><div class="post-nav"><a class="pre" href="/2018/12/18/hello-world/">Hello World</a><a class="next" href="/2015/08/13/e6-88-91-e7-9a-84-e4-b8-80-e4-b8-aa-e5-a4-8f-e6-97-a5-e6-b8-85-e6-99-a8-ef-bc-8c-e5-86-99-e5-9c-a8-e5-a4-a9-e6-b4-a5-e5-a1-98-e6-b2-bd-e7-a0-81-e5-a4-b4-e9-9b-86-e8-a3-85-e7-ae-b1-e7-88-86-e7-82-b8/">我的一个夏日清晨，写在天津塘沽码头集装箱爆炸后</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"><input type="hidden" name="sitesearch" value="http://blog.beendless.com"></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/CS/">CS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/漲潮﹣退潮/">漲潮﹣退潮</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/無知﹣无知/">無知﹣无知</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/行走的樹苗/">行走的樹苗</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/Hexo/" style="font-size: 15px;">Hexo</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/12/18/How-to-set-up-github-pages-with-customized-domain/">How To Set Up Github Pages With Customized Domain</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/18/hello-world/">Hello World</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/09/26/set-up-ssl-for-website-with-nginx-and-startssl/">Set up SSL for website with Nginx and StartSSL</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/08/13/e6-88-91-e7-9a-84-e4-b8-80-e4-b8-aa-e5-a4-8f-e6-97-a5-e6-b8-85-e6-99-a8-ef-bc-8c-e5-86-99-e5-9c-a8-e5-a4-a9-e6-b4-a5-e5-a1-98-e6-b2-bd-e7-a0-81-e5-a4-b4-e9-9b-86-e8-a3-85-e7-ae-b1-e7-88-86-e7-82-b8/">我的一个夏日清晨，写在天津塘沽码头集装箱爆炸后</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/01/05/e8-b5-b0-e8-bf-9b-e4-ba-ba-e7-94-9f-e7-9a-84-e7-ac-ac-e4-b8-80-e4-b8-aa-e5-8d-81-e5-b9-b4-2/">走进人生的第一个十年</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/10/19/2014年10月19日/">2014年10月19日</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/10/15/e9-a3-9e-e9-b8-9f/">飞鸟</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/09/22/e5-86-99-e4-bd-9c-ef-bc-8c-e5-86-8d-e4-b8-80-e4-b8-aa-e9-87-8d-e5-a4-b4-e5-bc-80-e5-a7-8b/">写作，再一个重头开始</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/06/07/e5-86-99-e9-81-97-e5-98-b1-e4-b9-8b-e5-89-8d/">写遗嘱之前</a></li><li class="post-list-item"><a class="post-list-link" href="/2014/05/20/e4-b8-ba-e4-ba-86-e6-b5-81-e6-b5-aa-e7-9a-84-e8-bf-9c-e6-96-b9/">为了流浪的远方</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">Beendless ~ 快节奏,慢生活,无止境.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/3.5.2/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/3.5.2/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>